<div *ngIf="city" class="container">
  <div class="row">
    <section class="col-md-12">
      <section class="col-md-4">
        <img class="img-responsive img-thumbnail" [src]="city.picture">
      </section>

      <div class="container-fluid col-md-8 ">
        <section>
          <h2>
            <b>{{city.name}}
            </b>
                <i class="material-icons pull-right down" style="color:gold ">star</i>
                <section class ="rating pull-right" style="text-align:center; font-size: 20px">
                  <p style="font-size: 20px">{{getCityRating(city.rating)}}
                  </p>  
                </section>
          </h2>

          <p> {{city.description}}
        </section>
      </div>
    </section>
  </div>
  
  <hr><div>
    <h3>Attractive Places</h3><br>
  </div>

  <div class="row round2">

    <div *ngFor="let place of places" class="col-md-3 text-white bg-secondary ">
      <img class="img-responsive img-thumbnail object-fit_contain" routerLink="place/{{place.placeId}}" [src]="place.picture">
      <ul *ngIf="authService.token != null">
          <ul *ngIf="checkExist(place.placeId) == true;else notExist">
              <a class="icon pull-right" (click)="this.favoritePlace.DeletePlace(place.placeId)">          
                <i id="favorite" class="material-icons pull-right down">favorite</i>   
              </a >
          </ul>
          <ng-template #notExist>
              <a class = "icon pull-right" (click)="this.favoritePlace.AddPlace(place.placeId)">          
                  <i id="favorite" class="material-icons pull-right down">favorite_border</i>   
                </a >
          </ng-template>
      </ul>
      <h5 class= "text-center" >
        <a routerLink="place/{{place.placeId}}">{{place.name}}</a>
      </h5>
    </div>

    <div id="button-div">
        <button class="btn btn-primary pull-left down" routerLink="/cities-list">Back</button>
      <button class="btn btn-primary pull-right down" routerLink="place-list">Show More</button>
    </div>
  </div>

  <hr>

  <div>
    <a class="btn btn-warn" (click)="blaBlaCarFormToggle()">
      <span >How to get there?</span>
    </a>
  </div>

  <br/>
  
  <div *ngIf="isCurrentCityNameLoaded">
  <div class="row round2">
      <div class="form-group col-xs-12 col-lg-4">
        <label for="currentLocation">From:</label>
        <input [(ngModel)]="currentCityName" type="text" name="currentLocation" class="form-control">
      </div>
      <div class="form-group col-xs-12 col-lg-4">
          <label for="endPoint">To:</label>
          <input [(ngModel)]="city.name" type="text" name="endPoint" class="form-control">
        </div>
      <div class="form-group col-xs-12 col-lg-2">
        <label for ="Date">Date:</label>
          <mat-form-field class="example-full-width">
            <input [(ngModel)]="travelDate" class="Date" matInput [min]="minDate" name = "Date" [matDatepicker]="picker" placeholder="Choose a date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>          
      </div>
      <div id="button-div">
        <button class="btn btn-primary pull-right" (click)="getBlaBlaCarInfo()">Search</button>
    </div>

    <div *ngIf="getBlaBlaCarResult" class="row blablacar_item">
      <a class ="col-xs-12 col-md-3" href="https://blablacar.com.ua/">
        <img class="img-responsive blablacar-img" src="../assets/img/BlaBlaCar/blacar.png">
      </a>
      <ul *ngIf="blablacarInfo; else error">
        <div class="col-xs-12 col-sm-4 col-md-3">
          <p id="blablacar">Time on the road â‰ˆ {{getBlaBlaCarTime(blablacarInfo.TravelTime)}} </p>
          <img class="img-responsive" src="../assets/img/BlaBlaCar/car-in-road.png">
        </div>
        <ul *ngIf="blablacarInfo.CountOfSuggestions!=0; else notFound">
          <div class="col-xs-12 col-sm-4 col-md-3">
            <p id="blablacar-p">Price range:</p>
            <p id="blablacar-price"> {{blablacarInfo.LowestPrice}}UAH - {{blablacarInfo.HighestPrice}}UAH</p>        
          </div>
          <div class = "col-xs-12 col-sm-4 col-md-3">
            
            <p id="blablacar-suggestion">Suggestions: {{blablacarInfo.CountOfSuggestions}}</p>
            <div id="button-div">
              <a href={{blablacarInfo.Link}}>
                <button class ="btn btn-primary pull-right">Choose</button>
              </a>
            </div>
          </div>
        </ul>
        <ng-template #notFound>
          <div class="col-xs-12 col-sm-8 col-md-6">
            <p id="NotFoundSuggestions"> Sorry, but it looks like there are already reservations or no trips on this route. </p>
          </div>
        </ng-template>
      </ul>
      <ng-template #error>
          <div class="col-xs-12 col-md-9">
              <p id="BlaBlaCarErrorMessage"> {{blablacarErrorMessage}} </p>
            </div>  
      </ng-template>
    </div>
  </div> 
</div>
  
</div>
<h2>Leave your comment!</h2>
<div class="container">
  <disqus [identifier]="page"></disqus>
</div>  




